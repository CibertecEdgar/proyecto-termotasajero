@model IEnumerable<proyecto_termotasajero.Models.ParametrosOperacionPrecipitador>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Index</h1>

<p>
    <a asp-action="Registrar">Create New</a>
</p>

<div id="paginado-listado">
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr id="header-row">
                    <!-- Los headers se llenan por JS -->
                </tr>
            </thead>
            <tbody id="body-rows">
                <!-- Las filas se llenan por JS -->
            </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button class="btn btn-secondary" id="prevSectionBtn" style="display:none;">Anterior sección</button>
        <button class="btn btn-primary" id="nextSectionBtn">Siguiente sección</button>
    </div>
</div>

@section Scripts {
<script>
    // Obtén los datos del modelo en JS
    const data = [
        @foreach (var item in Model) {
            @: {
            @: ID: @(item.ID),
            @: FechaHoraInicio: '@item.FechaHoraInicio',
            @: FechaHoraFinalizacion: '@item.FechaHoraFinalizacion',
            @: Email: '@item.Email',
            @: NombreOperador: '@item.NombreOperador',
            @: OperadorTurno: '@item.OperadorTurno',
            @: IPF14: '@item.IPF14',
            @: IPF13: '@item.IPF13',
            @: IPF15: '@item.IPF15',
            @: IPF16: '@item.IPF16',
            @: IPF12: '@item.IPF12',
            @: IPF11: '@item.IPF11',
            @: IPF10: '@item.IPF10',
            @: IPF9: '@item.IPF9',
            @: IPF5: '@item.IPF5',
            @: IPF6: '@item.IPF6',
            @: IPF7: '@item.IPF7',
            @: IPF8: '@item.IPF8',
            @: IPF4: '@item.IPF4',
            @: IPF3: '@item.IPF3',
            @: IPF2: '@item.IPF2',
            @: IPF1: '@item.IPF1',
            @: Temp1B2: '@item.Temp1B2',
            @: Nivel1B2: '@item.Nivel1B2',
            @: Temp2B2: '@item.Temp2B2',
            @: Nivel2B2: '@item.Nivel2B2',
            @: Temp3B2: '@item.Temp3B2',
            @: Nivel3B2: '@item.Nivel3B2',
            @: Temp4B2: '@item.Temp4B2',
            @: Nivel4B2: '@item.Nivel4B2',
            @: Temp4B1: '@item.Temp4B1',
            @: Nivel4B1: '@item.Nivel4B1',
            @: Temp3B1: '@item.Temp3B1',
            @: Nivel3B1: '@item.Nivel3B1',
            @: Temp2B1: '@item.Temp2B1',
            @: Nivel2B1: '@item.Nivel2B1',
            @: Temp1B1: '@item.Temp1B1',
            @: Nivel1B1: '@item.Nivel1B1',
            @: Temp1A2: '@item.Temp1A2',
            @: Nivel1A2: '@item.Nivel1A2',
            @: Temp2A2: '@item.Temp2A2',
            @: Nivel2A2: '@item.Nivel2A2',
            @: Temp3A2: '@item.Temp3A2',
            @: Nivel3A2: '@item.Nivel3A2',
            @: Temp4A2: '@item.Temp4A2',
            @: Nivel4A2: '@item.Nivel4A2',
            @: Temp4A1: '@item.Temp4A1',
            @: Nivel4A1: '@item.Nivel4A1',
            @: Temp3A1: '@item.Temp3A1',
            @: Nivel3A1: '@item.Nivel3A1',
            @: Temp2A1: '@item.Temp2A1',
            @: Nivel2A1: '@item.Nivel2A1',
            @: Temp1A1: '@item.Temp1A1',
            @: Nivel1A1: '@item.Nivel1A1',
            @: Campo1A1_Amps: '@item.Campo1A1_Amps',
            @: Campo1A1_Volts: '@item.Campo1A1_Volts',
            @: Campo1A1_mA: '@item.Campo1A1_mA',
            @: Campo1A1_KV: '@item.Campo1A1_KV',
            @: Campo1A1_SPM: '@item.Campo1A1_SPM',
            @: Campo1A1_KW: '@item.Campo1A1_KW',
            @: Campo1A1_Deg: '@item.Campo1A1_Deg',
            @: Campo1A2_Amps: '@item.Campo1A2_Amps',
            @: Campo1A2_Volts: '@item.Campo1A2_Volts',
            @: Campo1A2_mA: '@item.Campo1A2_mA',
            @: Campo1A2_KV: '@item.Campo1A2_KV',
            @: Campo1A2_SPM: '@item.Campo1A2_SPM',
            @: Campo1A2_KW: '@item.Campo1A2_KW',
            @: Campo1A2_Deg: '@item.Campo1A2_Deg',
            @: Campo1B1_Amps: '@item.Campo1B1_Amps',
            @: Campo1B1_Volts: '@item.Campo1B1_Volts',
            @: Campo1B1_mA: '@item.Campo1B1_mA',
            @: Campo1B1_KV: '@item.Campo1B1_KV',
            @: Campo1B1_SPM: '@item.Campo1B1_SPM',
            @: Campo1B1_KW: '@item.Campo1B1_KW',
            @: Campo1B1_Deg: '@item.Campo1B1_Deg',
            @: Campo1B2_Amps: '@item.Campo1B2_Amps',
            @: Campo1B2_Volts: '@item.Campo1B2_Volts',
            @: Campo1B2_mA: '@item.Campo1B2_mA',
            @: Campo1B2_KV: '@item.Campo1B2_KV',
            @: Campo1B2_SPM: '@item.Campo1B2_SPM',
            @: Campo1B2_KW: '@item.Campo1B2_KW',
            @: Campo1B2_Deg: '@item.Campo1B2_Deg',
            @: Campo2A1_Amps: '@item.Campo2A1_Amps',
            @: Campo2A1_Volts: '@item.Campo2A1_Volts',
            @: Campo2A1_mA: '@item.Campo2A1_mA',
            @: Campo2A1_KV: '@item.Campo2A1_KV',
            @: Campo2A1_SPM: '@item.Campo2A1_SPM',
            @: Campo2A1_KW: '@item.Campo2A1_KW',
            @: Campo2A1_Deg: '@item.Campo2A1_Deg',
            @: Campo2B2_Amps: '@item.Campo2B2_Amps',
            @: Campo2B2_Volts: '@item.Campo2B2_Volts',
            @: Campo2B2_mA: '@item.Campo2B2_mA',
            @: Campo2B2_KV: '@item.Campo2B2_KV',
            @: Campo2B2_SPM: '@item.Campo2B2_SPM',
            @: Campo2B2_KW: '@item.Campo2B2_KW',
            @: Campo2B2_Deg: '@item.Campo2B2_Deg',
            @: Campo2B1_Amps: '@item.Campo2B1_Amps',
            @: Campo2B1_Volts: '@item.Campo2B1_Volts',
            @: Campo2B1_mA: '@item.Campo2B1_mA',
            @: Campo2B1_KV: '@item.Campo2B1_KV',
            @: Campo2B1_SPM: '@item.Campo2B1_SPM',
            @: Campo2B1_KW: '@item.Campo2B1_KW',
            @: Campo2B1_Deg: '@item.Campo2B1_Deg',
            @: Campo2A2_Amps: '@item.Campo2A2_Amps',
            @: Campo2A2_Volts: '@item.Campo2A2_Volts',
            @: Campo2A2_mA: '@item.Campo2A2_mA',
            @: Campo2A2_KV: '@item.Campo2A2_KV',
            @: Campo2A2_SPM: '@item.Campo2A2_SPM',
            @: Campo2A2_KW: '@item.Campo2A2_KW',
            @: Campo2A2_Deg: '@item.Campo2A2_Deg',
            @: Campo3A1_Amps: '@item.Campo3A1_Amps',
            @: Campo3A1_Volts: '@item.Campo3A1_Volts',
            @: Campo3A1_mA: '@item.Campo3A1_mA',
            @: Campo3A1_KV: '@item.Campo3A1_KV',
            @: Campo3A1_SCR: '@item.Campo3A1_SCR',
            @: Campo3A1_KW: '@item.Campo3A1_KW',
            @: Campo3A1_SM: '@item.Campo3A1_SM',
            @: Campo3A2_Amps: '@item.Campo3A2_Amps',
            @: Campo3A2_Volts: '@item.Campo3A2_Volts',
            @: Campo3A2_mA: '@item.Campo3A2_mA',
            @: Campo3A2_KV: '@item.Campo3A2_KV',
            @: Campo3A2_SCR: '@item.Campo3A2_SCR',
            @: Campo3A2_KW: '@item.Campo3A2_KW',
            @: Campo3A2_SM: '@item.Campo3A2_SM',
            @: Campo4A1_Amps: '@item.Campo4A1_Amps',
            @: Campo4A1_Volts: '@item.Campo4A1_Volts',
            @: Campo4A1_mA: '@item.Campo4A1_mA',
            @: Campo4A1_KV: '@item.Campo4A1_KV',
            @: Campo4A1_SCR: '@item.Campo4A1_SCR',
            @: Campo4A1_KW: '@item.Campo4A1_KW',
            @: Campo4A1_SM: '@item.Campo4A1_SM',
            @: Campo4A2_Amps: '@item.Campo4A2_Amps',
            @: Campo4A2_Volts: '@item.Campo4A2_Volts',
            @: Campo4A2_mA: '@item.Campo4A2_mA',
            @: Campo4A2_KV: '@item.Campo4A2_KV',
            @: Campo4A2_SCR: '@item.Campo4A2_SCR',
            @: Campo4A2_KW: '@item.Campo4A2_KW',
            @: Campo4A2_SM: '@item.Campo4A2_SM',
            @: Campo3B1_Amps: '@item.Campo3B1_Amps',
            @: Campo3B1_Volts: '@item.Campo3B1_Volts',
            @: Campo3B1_mA: '@item.Campo3B1_mA',
            @: Campo3B1_KV: '@item.Campo3B1_KV',
            @: Campo3B1_SCR: '@item.Campo3B1_SCR',
            @: Campo3B1_KW: '@item.Campo3B1_KW',
            @: Campo3B1_SM: '@item.Campo3B1_SM',
            @: Campo3B2_Amps: '@item.Campo3B2_Amps',
            @: Campo3B2_Volts: '@item.Campo3B2_Volts',
            @: Campo3B2_mA: '@item.Campo3B2_mA',
            @: Campo3B2_KV: '@item.Campo3B2_KV',
            @: Campo3B2_SCR: '@item.Campo3B2_SCR',
            @: Campo3B2_KW: '@item.Campo3B2_KW',
            @: Campo3B2_SM: '@item.Campo3B2_SM',
            @: Campo4B1_Amps: '@item.Campo4B1_Amps',
            @: Campo4B1_Volts: '@item.Campo4B1_Volts',
            @: Campo4B1_mA: '@item.Campo4B1_mA',
            @: Campo4B1_KV: '@item.Campo4B1_KV',
            @: Campo4B1_SCR: '@item.Campo4B1_SCR',
            @: Campo4B1_KW: '@item.Campo4B1_KW',
            @: Campo4B1_SM: '@item.Campo4B1_SM',
            @: Campo4B2_Amps: '@item.Campo4B2_Amps',
            @: Campo4B2_Volts: '@item.Campo4B2_Volts',
            @: Campo4B2_mA: '@item.Campo4B2_mA',
            @: Campo4B2_KV: '@item.Campo4B2_KV',
            @: Campo4B2_SCR: '@item.Campo4B2_SCR',
            @: Campo4B2_KW: '@item.Campo4B2_KW',
            @: Campo4B2_SM: '@item.Campo4B2_SM',
            @: Observaciones: '@item.Observaciones',
            @: },
        }
    ];
    // Nombres de columnas en orden
    const columns = [
        'ID','FechaHoraInicio','FechaHoraFinalizacion','Email','NombreOperador','OperadorTurno','IPF14','IPF13','IPF15','IPF16','IPF12','IPF11','IPF10','IPF9','IPF5','IPF6','IPF7','IPF8','IPF4','IPF3','IPF2','IPF1','Temp1B2','Nivel1B2','Temp2B2','Nivel2B2','Temp3B2','Nivel3B2','Temp4B2','Nivel4B2','Temp4B1','Nivel4B1','Temp3B1','Nivel3B1','Temp2B1','Nivel2B1','Temp1B1','Nivel1B1','Temp1A2','Nivel1A2','Temp2A2','Nivel2A2','Temp3A2','Nivel3A2','Temp4A2','Nivel4A2','Temp4A1','Nivel4A1','Temp3A1','Nivel3A1','Temp2A1','Nivel2A1','Temp1A1','Nivel1A1','Campo1A1_Amps','Campo1A1_Volts','Campo1A1_mA','Campo1A1_KV','Campo1A1_SPM','Campo1A1_KW','Campo1A1_Deg','Campo1A2_Amps','Campo1A2_Volts','Campo1A2_mA','Campo1A2_KV','Campo1A2_SPM','Campo1A2_KW','Campo1A2_Deg','Campo1B1_Amps','Campo1B1_Volts','Campo1B1_mA','Campo1B1_KV','Campo1B1_SPM','Campo1B1_KW','Campo1B1_Deg','Campo1B2_Amps','Campo1B2_Volts','Campo1B2_mA','Campo1B2_KV','Campo1B2_SPM','Campo1B2_KW','Campo1B2_Deg','Campo2A1_Amps','Campo2A1_Volts','Campo2A1_mA','Campo2A1_KV','Campo2A1_SPM','Campo2A1_KW','Campo2A1_Deg','Campo2B2_Amps','Campo2B2_Volts','Campo2B2_mA','Campo2B2_KV','Campo2B2_SPM','Campo2B2_KW','Campo2B2_Deg','Campo2B1_Amps','Campo2B1_Volts','Campo2B1_mA','Campo2B1_KV','Campo2B1_SPM','Campo2B1_KW','Campo2B1_Deg','Campo2A2_Amps','Campo2A2_Volts','Campo2A2_mA','Campo2A2_KV','Campo2A2_SPM','Campo2A2_KW','Campo2A2_Deg','Campo3A1_Amps','Campo3A1_Volts','Campo3A1_mA','Campo3A1_KV','Campo3A1_SCR','Campo3A1_KW','Campo3A1_SM','Campo3A2_Amps','Campo3A2_Volts','Campo3A2_mA','Campo3A2_KV','Campo3A2_SCR','Campo3A2_KW','Campo3A2_SM','Campo4A1_Amps','Campo4A1_Volts','Campo4A1_mA','Campo4A1_KV','Campo4A1_SCR','Campo4A1_KW','Campo4A1_SM','Campo4A2_Amps','Campo4A2_Volts','Campo4A2_mA','Campo4A2_KV','Campo4A2_SCR','Campo4A2_KW','Campo4A2_SM','Campo3B1_Amps','Campo3B1_Volts','Campo3B1_mA','Campo3B1_KV','Campo3B1_SCR','Campo3B1_KW','Campo3B1_SM','Campo3B2_Amps','Campo3B2_Volts','Campo3B2_mA','Campo3B2_KV','Campo3B2_SCR','Campo3B2_KW','Campo3B2_SM','Campo4B1_Amps','Campo4B1_Volts','Campo4B1_mA','Campo4B1_KV','Campo4B1_SCR','Campo4B1_KW','Campo4B1_SM','Campo4B2_Amps','Campo4B2_Volts','Campo4B2_mA','Campo4B2_KV','Campo4B2_SCR','Campo4B2_KW','Campo4B2_SM','Observaciones'
    ];
    // Nombres legibles para los headers (puedes personalizar estos nombres)
    const columnHeaders = columns.map(c => c);
    // Paginación de columnas
    const pageSize = 8;
    let currentSection = 0;
    function renderTable() {
        // Renderiza los headers y las filas según la sección actual
        const start = currentSection * pageSize;
        const end = Math.min(start + pageSize, columns.length);
        const visibleColumns = columns.slice(start, end);
        const visibleHeaders = columnHeaders.slice(start, end);
        // Render headers
        const headerRow = document.getElementById('header-row');
        headerRow.innerHTML = '';
        visibleHeaders.forEach(h => {
            const th = document.createElement('th');
            th.textContent = h;
            headerRow.appendChild(th);
        });
        // Render rows
        const bodyRows = document.getElementById('body-rows');
        bodyRows.innerHTML = '';
        data.forEach(row => {
            const tr = document.createElement('tr');
            visibleColumns.forEach(col => {
                const td = document.createElement('td');
                td.textContent = row[col];
                tr.appendChild(td);
            });
            bodyRows.appendChild(tr);
        });
        // Botones
        document.getElementById('prevSectionBtn').style.display = currentSection > 0 ? '' : 'none';
        document.getElementById('nextSectionBtn').style.display = end < columns.length ? '' : 'none';
    }
    document.getElementById('prevSectionBtn').onclick = function () {
        if (currentSection > 0) {
            currentSection--;
            renderTable();
        }
    };
    document.getElementById('nextSectionBtn').onclick = function () {
        if ((currentSection + 1) * pageSize < columns.length) {
            currentSection++;
            renderTable();
        }
    };
    renderTable();
</script>
}
